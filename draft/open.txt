@startuml
skinparam componentStyle uml2
skinparam packageStyle rectangle
 
package 引擎核心类 {
  class EngineContext {
    + (Set<aModule>) getJSIModules();
    + (Set<aModule>) getNativeModules();
    + (aModule) getJSIModuleById(id:string);
    + (aModule) getNativeModuleById(id:string);
    + (Set<aModule>) getNativeModulesByInterface(i:interface);
    + (aModule) getJSIModuleByInterface(i:interface);

  }
  
  
  class  aModule {
    + (string) {abstract}  moduleId;
    + (booelan) isJSI(); (默认返回 false);
    + (void) afterAllNativeMouduleInited();

  }
}

package model.ts自动生成 {
  interface iJSIOpen {
    +  (void) {abstract}  _open (...,callback:Func)
  }
  abstract class aJSIOpenModule extends  aModule  implements iJSIOpen { 
    // auto generated by model.ts
    + (void) open (...,callback:Func)
    + (booelan) isJSI()(默认返回 true)
  }
}

 
package JSI实现{


  class JSIOpenModule extends aJSIOpenModule{
    - Opens: Map<string,iOpen>;
  }
  
 
  
}

package 接口 {
  
  interface iOpen {    
    + (void) open(...);
  }
  
  
}
package iOpen实现 {
  class OpenH5Module   extends aModule implements iOpen{
    - (string) moduleId;
    - (void) open(...);
  }
  

}
  

EngineContext o--  aModule : aggregation
 

@enduml
