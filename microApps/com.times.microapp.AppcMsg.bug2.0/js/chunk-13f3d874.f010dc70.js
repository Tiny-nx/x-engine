(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-13f3d874"],{1163:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"message-list-content"},[a("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],ref:"scrollContent",staticClass:"scroll-content",attrs:{"infinite-scroll-throttle-delay":"500","infinite-scroll-disabled":"busy","infinite-scroll-distance":"600"}},[a("ul",[t._l(t.data,(function(e){return a("li",{key:e.id,staticClass:"message-list",on:{click:function(a){return t.turn_detail(e.id)}}},[a("div",[a("p",[a("span",{staticClass:"title"},[t._v(t._s(e.title))]),a("span",{class:1==e.level?"level level-1":"level level-2"},[t._v(t._s(t.level[e.level]))])]),a("p",{staticClass:"create-time"},[t._v("发布时间："+t._s(e.createTime?t.moment(e.createTime).format("YYYY/MM/DD"):""))])]),a("div",{staticClass:"container"},[a("p",[t._v(t._s(e.content))])]),a("p",t._l(e.labels,(function(e,s){return a("span",{key:s,staticClass:"tag"},[t._v(t._s(e))])})),0),0===e.readStatus?a("span",{staticClass:"readStatus"}):t._e()])})),t.show&&0===t.data.length?a("div",{staticClass:"default-content"},[t._m(0)]):t._e()],2)])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("span",{staticClass:"default-icon"}),a("p",[t._v("您还没有消息哦~")])])}],i=(a("99af"),a("d3b7"),a("365c")),o=a("a946"),l=a("c1df"),r=a.n(l),c={name:"MessageList",components:{},data:function(){return{busy:!1,more:!1,data:[],level:["","非常紧急","紧急","重要","提示","普通"],show:!1,pageIndex:1,total:""}},created:function(){var t=this;o["a"].setNavLeftBtn({title:"消息中心",titleColor:"#000000",titleSize:24,titleFontName:"PingFangSC-Medium",titleBig:"500"}),this.getMessage(),this.toast(),o["a"].setNavRightBtn({title:"一键已读",titleColor:"#000000",titleSize:16,icon:"",iconSize:["20","20"],__event__:function(){t.readUpdate()}})},activated:function(){this.getMessage(),this.toast(),this.$refs.scrollContent.scrollTo(0,this.scroll)},methods:{moment:r.a,readUpdate:function(){var t=this;i["a"].readUpdate().then((function(e){200===e.code&&(t.toast(),t.getMessage(),t.pageIndex=1,t.show=!1,t.total="")})).finally((function(){}))},toast:function(){this.$toast.loading({duration:0,type:"loading",message:"加载中...",forbidClick:!0})},getMessage:function(){var t=this,e={pageIndex:this.pageIndex,pageSize:10,status:0};i["a"].getMsgList(e).then((function(e){200===e.code&&(t.show=!0,t.data=t.data.concat(e.data.records),t.total=e.data.total,t.more&&e.data.records.length>0&&(t.busy=!1),t.$forceUpdate())})).finally((function(){t.$toast.clear()}))},loadMore:function(){10*this.pageIndex<this.total?(this.busy=!0,this.pageIndex+=1,this.more=!0,this.getMessage()):this.more=!1},turn_detail:function(t){o["a"].navigatorPush({url:"/msgList",params:encodeURI("id=".concat(t))}),this.scroll=this.$refs.scrollContent.scrollTop}}},d=c,u=(a("fddf"),a("2877")),f=Object(u["a"])(d,s,n,!1,null,null,null);e["default"]=f.exports},8280:function(t,e,a){},"99af":function(t,e,a){"use strict";var s=a("23e7"),n=a("d039"),i=a("e8b5"),o=a("861d"),l=a("7b0b"),r=a("50c4"),c=a("8418"),d=a("65f0"),u=a("1dde"),f=a("b622"),h=a("2d00"),v=f("isConcatSpreadable"),g=9007199254740991,p="Maximum allowed index exceeded",m=h>=51||!n((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),_=u("concat"),C=function(t){if(!o(t))return!1;var e=t[v];return void 0!==e?!!e:i(t)},b=!m||!_;s({target:"Array",proto:!0,forced:b},{concat:function(t){var e,a,s,n,i,o=l(this),u=d(o,0),f=0;for(e=-1,s=arguments.length;e<s;e++)if(i=-1===e?o:arguments[e],C(i)){if(n=r(i.length),f+n>g)throw TypeError(p);for(a=0;a<n;a++,f++)a in i&&c(u,f,i[a])}else{if(f>=g)throw TypeError(p);c(u,f++,i)}return u.length=f,u}})},fddf:function(t,e,a){"use strict";var s=a("8280"),n=a.n(s);n.a}}]);